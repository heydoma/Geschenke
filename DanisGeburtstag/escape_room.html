<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Die Verbotene Abteilung âœ¨</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Progress Indicator -->
<div class="progress-indicator">
    <div class="progress-locks" id="progressLocks">
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
        <span class="progress-lock">ğŸ”’</span>
    </div>
</div>

<!-- Die Ewige Bibliothek -->
<div class="library" id="mainLibrary">

    <!-- Magische Lichtpunkte (Ã¼berall verteilt wie GlÃ¼hwÃ¼rmchen) -->
    <div class="particles-container" id="particlesContainer"></div>

    <!-- Steinboden mit abwechselnden Tiles -->
    <div class="floor">
        <div class="floor-tile"></div>
        <div class="floor-tile"></div>
        <div class="floor-tile"></div>
        <div class="floor-tile"></div>
        <div class="floor-tile"></div>
        <div class="floor-tile"></div>
    </div>

    <!-- Schwebende Kerze als SVG (zentral Ã¼ber dem Tisch) -->
    <div class="floating-candle">
        <!-- Lichtschein als SVG Parabel -->
        <svg class="candle-light-cone" viewBox="0 0 400 500" preserveAspectRatio="none">
            <defs>
                <radialGradient id="candleGlow" cx="50%" cy="0%" r="100%" fx="50%" fy="0%">
                    <stop offset="0%" style="stop-color:rgb(255,200,100);stop-opacity:0.4" />
                    <stop offset="30%" style="stop-color:rgb(255,180,80);stop-opacity:0.2" />
                    <stop offset="70%" style="stop-color:rgb(255,150,50);stop-opacity:0.05" />
                    <stop offset="100%" style="stop-color:rgb(255,150,50);stop-opacity:0" />
                </radialGradient>
            </defs>
            <!-- Parabel/Kegel-Form -->
            <path d="M200,0 Q350,250 320,500 L80,500 Q50,250 200,0 Z" fill="url(#candleGlow)" />
        </svg>

        <!-- Die Kerze selbst als SVG -->
        <svg class="candle-svg" viewBox="0 0 60 120" width="60" height="120">
            <defs>
                <!-- Flammen-Gradient -->
                <radialGradient id="flameGrad" cx="50%" cy="70%" r="50%">
                    <stop offset="0%" style="stop-color:#fff;stop-opacity:1" />
                    <stop offset="30%" style="stop-color:#ffdd44;stop-opacity:1" />
                    <stop offset="60%" style="stop-color:#ff9900;stop-opacity:0.9" />
                    <stop offset="100%" style="stop-color:#ff6600;stop-opacity:0" />
                </radialGradient>
                <!-- Kerzen-Wachs -->
                <linearGradient id="waxGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#e8d4b8" />
                    <stop offset="50%" style="stop-color:#f5e6d3" />
                    <stop offset="100%" style="stop-color:#d4c4a8" />
                </linearGradient>
                <!-- Halter -->
                <linearGradient id="holderGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#d4a574" />
                    <stop offset="100%" style="stop-color:#8b6914" />
                </linearGradient>
                <!-- Flammen-Glow Filter -->
                <filter id="flameGlow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="3" result="blur"/>
                    <feMerge>
                        <feMergeNode in="blur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Halter (unten) -->
            <ellipse cx="30" cy="110" rx="20" ry="6" fill="url(#holderGrad)"/>
            <rect x="10" y="100" width="40" height="12" rx="3" fill="url(#holderGrad)"/>

            <!-- Kerzen-KÃ¶rper -->
            <rect x="22" y="45" width="16" height="55" rx="2" fill="url(#waxGrad)"/>

            <!-- Docht -->
            <line x1="30" y1="45" x2="30" y2="35" stroke="#3a2a1a" stroke-width="2"/>

            <!-- Flamme -->
            <ellipse cx="30" cy="22" rx="10" ry="18" fill="url(#flameGrad)" filter="url(#flameGlow)">
                <animate attributeName="ry" values="18;20;17;19;18" dur="0.3s" repeatCount="indefinite"/>
                <animate attributeName="rx" values="10;9;11;10" dur="0.2s" repeatCount="indefinite"/>
            </ellipse>

            <!-- Innere Flamme (heller Kern) -->
            <ellipse cx="30" cy="26" rx="4" ry="8" fill="#fff" opacity="0.9">
                <animate attributeName="ry" values="8;9;7;8" dur="0.25s" repeatCount="indefinite"/>
            </ellipse>
        </svg>
    </div>

    <!-- ========== LINKES BÃœCHERREGAL (mit Puzzle-BÃ¼chern 1-4) ========== -->
    <div class="bookcase bookcase-left">

        <!-- Regalreihe 1 (oben - viele BÃ¼cher, dunkel/neblig) -->
        <div class="shelf-row row-1">
            <div class="shelf-board"></div>
            <div class="books-container">
                <div class="book book-deco thin" style="--book-color: #2d3a4a;"></div>
                <div class="book book-deco thick" style="--book-color: #4a3728;"></div>
                <div class="book book-deco medium" style="--book-color: #1e3d35;"></div>
                <div class="book book-deco thin" style="--book-color: #3d2d4a;"></div>
                <div class="book book-deco thick" style="--book-color: #4a4028;"></div>
                <div class="book book-deco thin" style="--book-color: #3a2830;"></div>
                <div class="book book-deco medium" style="--book-color: #28403a;"></div>
                <div class="book book-deco thick" style="--book-color: #402d3a;"></div>
            </div>
        </div>

        <!-- Regalreihe 2 - viele BÃ¼cher -->
        <div class="shelf-row row-2">
            <div class="shelf-board"></div>
            <div class="books-container">
                <div class="book book-deco medium" style="--book-color: #3a2820;"></div>
                <div class="book book-deco thick" style="--book-color: #1e2d3a;"></div>
                <div class="book book-deco thin tilted" style="--book-color: #4a3040;"></div>
                <div class="book book-deco medium" style="--book-color: #2a4030;"></div>
                <div class="book book-deco thick" style="--book-color: #3a3040;"></div>
                <div class="book book-deco thin" style="--book-color: #40382a;"></div>
                <div class="book book-deco medium tilted" style="--book-color: #2a3840;"></div>
                <div class="book book-deco thick" style="--book-color: #3a2a28;"></div>
            </div>
        </div>

        <!-- Regalreihe 3 (PUZZLE-BÃœCHER - hervorgehoben) -->
        <div class="shelf-row row-3 puzzle-row">
            <div class="shelf-board"></div>
            <div class="books-container puzzle-books">
                <!-- Die 8 klickbaren Puzzle-BÃ¼cher -->
                <div class="book puzzle-book" id="book1" onclick="openPuzzle(1)" data-title="Fliegende SchlÃ¼ssel">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸ—ï¸</div>
                    <div class="book-gold-trim"></div>
                </div>
                <div class="book puzzle-book" id="book2" onclick="openPuzzle(2)" data-title="Flohnetzwerk">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸ”¥</div>
                    <div class="book-gold-trim"></div>
                </div>
                <div class="book puzzle-book" id="book3" onclick="openPuzzle(3)" data-title="ZaubertrÃ¤nke">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸ§ª</div>
                    <div class="book-gold-trim"></div>
                </div>
                <div class="book puzzle-book" id="book4" onclick="openPuzzle(4)" data-title="Alraunen">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸŒ±</div>
                    <div class="book-gold-trim"></div>
                </div>
            </div>
        </div>

        <!-- Regalreihe 4 (Deko-BÃ¼cher - chaotisch) -->
        <div class="shelf-row row-4">
            <div class="shelf-board"></div>
            <div class="books-container">
                <div class="book book-deco thick tilted" style="--book-color: #4a3040;"></div>
                <div class="book book-deco thin" style="--book-color: #2a4040;"></div>
                <div class="book book-deco medium tilted" style="--book-color: #403020;"></div>
                <div class="book book-deco thick" style="--book-color: #304030;"></div>
                <div class="book book-deco thin fallen" style="--book-color: #402a3a;"></div>
            </div>
        </div>

        <!-- Regalreihe 5 (unten) -->
        <div class="shelf-row row-5">
            <div class="shelf-board"></div>
            <div class="books-container">
                <div class="book book-deco thick" style="--book-color: #4a3a28;"></div>
                <div class="book book-deco medium fallen" style="--book-color: #283a4a;"></div>
                <div class="book book-deco thin" style="--book-color: #3a2840;"></div>
            </div>
        </div>
    </div>

    <!-- ========== RECHTES BÃœCHERREGAL (mit Puzzle-BÃ¼chern 5-8) ========== -->
    <div class="bookcase bookcase-right">
        <div class="shelf-row row-1">
            <div class="shelf-board"></div>
            <div class="books-container orderly">
                <div class="book book-deco medium" style="--book-color: #3a2820;"></div>
                <div class="book book-deco medium" style="--book-color: #2a3a40;"></div>
                <div class="book book-deco medium" style="--book-color: #402a30;"></div>
            </div>
        </div>

        <div class="shelf-row row-2">
            <div class="shelf-board"></div>
            <div class="books-container orderly">
                <div class="book book-deco thick" style="--book-color: #4a3a28;"></div>
                <div class="book book-deco thick" style="--book-color: #284a3a;"></div>
                <div class="book book-deco thick" style="--book-color: #3a284a;"></div>
            </div>
        </div>

        <!-- Regalreihe 3 (PUZZLE-BÃœCHER 5 & 6) -->
        <div class="shelf-row row-3 puzzle-row">
            <div class="shelf-board"></div>
            <div class="books-container puzzle-books">
                <div class="book book-deco thin" style="--book-color: #2d3040;"></div>
                <!-- Puzzle 5: Die Karte der herumtreibenden -->
                <div class="book puzzle-book" id="book5" onclick="openPuzzle(5)" data-title="Karte der Herumtreibenden">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸ—ºï¸</div>
                    <div class="book-gold-trim"></div>
                </div>
                <!-- Puzzle 6: Vielsaft-Trank -->
                <div class="book puzzle-book" id="book6" onclick="openPuzzle(6)" data-title="Vielsaft-Trank">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸ§ª</div>
                    <div class="book-gold-trim"></div>
                </div>
                <div class="book book-deco medium" style="--book-color: #40302d;"></div>
            </div>
        </div>

        <!-- Regalreihe 4 (PUZZLE-BÃœCHER 7 & 8) -->
        <div class="shelf-row row-4 puzzle-row">
            <div class="shelf-board"></div>
            <div class="books-container puzzle-books">
                <!-- Puzzle 7: Raum der WÃ¼nsche -->
                <div class="book puzzle-book" id="book7" onclick="openPuzzle(7)" data-title="Raum der WÃ¼nsche">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">ğŸšª</div>
                    <div class="book-gold-trim"></div>
                </div>
                <div class="book book-deco thick" style="--book-color: #28303a;"></div>
                <!-- Puzzle 8: Der Finale Code -->
                <div class="book puzzle-book" id="book8" onclick="openPuzzle(8)" data-title="Der Finale Code">
                    <div class="book-spine"></div>
                    <div class="book-cover"></div>
                    <div class="book-pages"></div>
                    <div class="book-symbol">âš¡</div>
                    <div class="book-gold-trim"></div>
                </div>
            </div>
        </div>

        <div class="shelf-row row-5">
            <div class="shelf-board"></div>
            <div class="books-container orderly">
                <div class="book book-deco thick" style="--book-color: #4a4028;"></div>
                <div class="book book-deco medium" style="--book-color: #28404a;"></div>
            </div>
        </div>
    </div>

    <!-- Der massive Eichen-Schreibtisch -->
    <div class="desk">
        <div class="desk-top"></div>
        <div class="desk-front"></div>
        <div class="desk-leg-left"></div>
        <div class="desk-leg-right"></div>

        <!-- Objekte auf dem Tisch -->

        <!-- Das magische Tagebuch (mittig) -->
        <div class="desk-book" id="magicDiary" onclick="openDiary()">
            <div class="book-left-page"></div>
            <div class="book-spine"></div>
            <div class="book-right-page"></div>
        </div>

        <!-- Gestapelte BÃ¼cher (links) -->
        <div class="desk-books-stack">
            <div class="stacked-book"></div>
            <div class="stacked-book"></div>
            <div class="stacked-book"></div>
        </div>

        <!-- Die Messinglampe als SVG (rechts) -->
        <svg class="desk-lamp-svg" viewBox="0 0 100 150" width="80" height="120">
            <defs>
                <!-- Lampenschirm Gradient -->
                <linearGradient id="shadeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#2d4a2d"/>
                    <stop offset="50%" style="stop-color:#1a3a1a"/>
                    <stop offset="100%" style="stop-color:#0f2a0f"/>
                </linearGradient>
                <!-- Messing Gradient -->
                <linearGradient id="brassGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#8b6914"/>
                    <stop offset="50%" style="stop-color:#d4a574"/>
                    <stop offset="100%" style="stop-color:#8b6914"/>
                </linearGradient>
                <!-- Licht-Kegel -->
                <radialGradient id="lampLight" cx="50%" cy="0%" r="100%">
                    <stop offset="0%" style="stop-color:rgb(255,220,150);stop-opacity:0.5"/>
                    <stop offset="50%" style="stop-color:rgb(255,180,100);stop-opacity:0.2"/>
                    <stop offset="100%" style="stop-color:rgb(255,150,80);stop-opacity:0"/>
                </radialGradient>
                <!-- Glow Filter -->
                <filter id="lampGlow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="5" result="blur"/>
                    <feMerge>
                        <feMergeNode in="blur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Licht-Kegel (nach unten) -->
            <path d="M30,55 L10,145 L90,145 L70,55 Z" fill="url(#lampLight)" filter="url(#lampGlow)"/>

            <!-- Basis -->
            <ellipse cx="50" cy="145" rx="25" ry="5" fill="url(#brassGrad)"/>

            <!-- Stiel -->
            <rect x="46" y="85" width="8" height="60" fill="url(#brassGrad)"/>

            <!-- Gelenk -->
            <circle cx="50" cy="85" r="6" fill="url(#brassGrad)"/>

            <!-- Arm (schrÃ¤g) -->
            <rect x="48" y="55" width="6" height="35" fill="url(#brassGrad)" transform="rotate(-15, 50, 70)"/>

            <!-- Lampenschirm -->
            <path d="M25,30 L30,55 L70,55 L75,30 Q50,20 25,30 Z" fill="url(#shadeGrad)" stroke="#1a2a1a" stroke-width="1"/>

            <!-- Inneres Leuchten -->
            <ellipse cx="50" cy="48" rx="15" ry="5" fill="rgba(255,220,150,0.8)">
                <animate attributeName="opacity" values="0.8;1;0.7;0.9;0.8" dur="2s" repeatCount="indefinite"/>
            </ellipse>
        </svg>

        <!-- Tintenfass mit Feder -->
        <div class="desk-inkwell">
            <div class="inkwell-feather">ğŸª¶</div>
            <div class="inkwell-jar"></div>
        </div>

        <!-- Kleine Artefakte/MÃ¼nzen -->
        <div class="desk-artifacts">
            <div class="artifact">â˜†</div>
            <div class="artifact">âœ§</div>
            <div class="artifact">âšœ</div>
        </div>
    </div>

    <!-- Der BuchstÃ¤nder (Ambo) - Fortschrittsanzeige -->
    <div class="lectern">
        <div class="lectern-top" id="lecternPages">
            <div class="page-slot" id="pageSlot1"></div>
            <div class="page-slot" id="pageSlot2"></div>
            <div class="page-slot" id="pageSlot3"></div>
            <div class="page-slot" id="pageSlot4"></div>
            <div class="page-slot" id="pageSlot5"></div>
            <div class="page-slot" id="pageSlot6"></div>
            <div class="page-slot" id="pageSlot7"></div>
            <div class="page-slot" id="pageSlot8"></div>
        </div>
        <div class="lectern-stand"></div>
    </div>

</div>

<!-- Final Reveal -->
<div class="final-reveal" id="finalReveal">
    <div class="final-title">âœ¨ Alohomora! âœ¨</div>
    <div class="final-message">
        Der Brief Ã¶ffnet sich und enthÃ¼llt sein magisches Geheimnis...<br><br>
        <strong>Willkommen in der Welt der Magie!</strong>
    </div>
    <div class="ticket-info">
        ğŸ­ Harry Potter und das verwunschene Kind ğŸ­<br>
        Musical-Tickets fÃ¼r Hamburg!
    </div>
    <div class="final-message">
        Alles Gute zum Geburtstag! ğŸ‰<br>
        Mach dich bereit fÃ¼r ein unvergessliches magisches Abenteuer!
    </div>
</div>

<!-- Modal 1: Fliegende SchlÃ¼ssel -->
<div class="modal" id="modal1">
    <div class="modal-content">
        <div class="modal-title">ğŸ—ï¸ Die fliegenden SchlÃ¼ssel</div>
        <div class="modal-description">
            Drei alte SchlÃ¼ssel mit FlÃ¼geln liegen vor dir. An der Wand hÃ¤ngen drei Vogelbilder.<br>
            <small>Richte die FlÃ¼gel der SchlÃ¼ssel so aus, wie die VÃ¶gel schauen!</small>
        </div>
        <div class="puzzle-container">
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="font-size: 1.2em; color: #d4c5a9; margin-bottom: 15px;">Vogelbilder:</div>
                <div style="display: flex; justify-content: center; gap: 40px; margin-bottom: 40px;">
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ¦‰</div>
                        <div style="font-size: 1.5em; margin-top: 10px;">â†</div>
                        <div style="font-size: 0.9em; color: #c9b896;">Links</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ¦…</div>
                        <div style="font-size: 1.5em; margin-top: 10px;">â†‘</div>
                        <div style="font-size: 0.9em; color: #c9b896;">Oben</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ¦œ</div>
                        <div style="font-size: 1.5em; margin-top: 10px;">â†’</div>
                        <div style="font-size: 0.9em; color: #c9b896;">Rechts</div>
                    </div>
                </div>

                <div style="font-size: 1.2em; color: #d4c5a9; margin-bottom: 15px;">SchlÃ¼ssel:</div>
                <div style="display: flex; justify-content: center; gap: 30px;">
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ—ï¸</div>
                        <select id="key1" style="font-size: 1.2em; padding: 8px; border-radius: 8px; background: #2d2420; color: #d4c5a9; border: 2px solid #d4af37;">
                            <option value="0">â€”</option>
                            <option value="1">â†</option>
                            <option value="2">â†‘</option>
                            <option value="3">â†’</option>
                        </select>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ—ï¸</div>
                        <select id="key2" style="font-size: 1.2em; padding: 8px; border-radius: 8px; background: #2d2420; color: #d4c5a9; border: 2px solid #d4af37;">
                            <option value="0">â€”</option>
                            <option value="1">â†</option>
                            <option value="2">â†‘</option>
                            <option value="3">â†’</option>
                        </select>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 3em;">ğŸ—ï¸</div>
                        <select id="key3" style="font-size: 1.2em; padding: 8px; border-radius: 8px; background: #2d2420; color: #d4c5a9; border: 2px solid #d4af37;">
                            <option value="0">â€”</option>
                            <option value="1">â†</option>
                            <option value="2">â†‘</option>
                            <option value="3">â†’</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="checkPuzzle1()">PrÃ¼fen</button>
            <button class="modal-btn" onclick="closeModal(1)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback1"></div>
    </div>
</div>

<!-- Modal 2: Flohnetzwerk-Labyrinth -->
<div class="modal" id="modal2">
    <div class="modal-content">
        <div class="modal-title">ğŸ”¥ Das Flohnetzwerk-Labyrinth</div>
        <div class="modal-description">
            Finde den Weg durch die Kamine von Start zu Ziel!<br>
            <small>Klicke auf die Kamine in der richtigen Reihenfolge. Jeder Kamin darf nur einmal benutzt werden!</small>
        </div>
        <div class="puzzle-container" id="puzzle2Container">
            <!-- Wird per JavaScript generiert -->
        </div>
        <div style="text-align: center;">
            <button class="modal-btn" onclick="resetPuzzle2()">ZurÃ¼cksetzen</button>
            <button class="modal-btn" onclick="closeModal(2)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback2"></div>
    </div>
</div>

<!-- Modal 3: TrÃ¤nke-Baukasten -->
<div class="modal" id="modal3">
    <div class="modal-content">
        <div class="modal-title">ğŸ§ª Der TrÃ¤nke-Baukasten</div>
        <div class="modal-description">
            Braue einen Schlaftrunk! Du brauchst exakt 4ml im Kessel.<br>
            <small>FÃ¼lle die Zutaten um, bis du genau 4ml hast!</small>
        </div>
        <div class="puzzle-container">
            <div style="display: flex; justify-content: center; gap: 30px; margin: 30px 0;">
                <div style="text-align: center;">
                    <div style="font-size: 2.5em;">ğŸ§ª</div>
                    <div style="font-size: 1.1em; color: #d4c5a9; margin-top: 10px;">Schlangengift</div>
                    <div style="font-size: 1.5em; color: #ffd700; font-weight: bold;" id="snake-amount">5ml</div>
                    <div style="margin-top: 10px;">
                        <button class="modal-btn" onclick="pourPotion('snake', 'valerian')">â†’ Baldrian</button>
                        <button class="modal-btn" onclick="pourPotion('snake', 'wormwood')">â†’ Wermut</button>
                        <button class="modal-btn" onclick="pourPotion('snake', 'cauldron')">â†’ Kessel</button>
                    </div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.5em;">ğŸ§ª</div>
                    <div style="font-size: 1.1em; color: #d4c5a9; margin-top: 10px;">Baldrian</div>
                    <div style="font-size: 1.5em; color: #ffd700; font-weight: bold;" id="valerian-amount">3ml</div>
                    <div style="margin-top: 10px;">
                        <button class="modal-btn" onclick="pourPotion('valerian', 'snake')">â†’ Schlange</button>
                        <button class="modal-btn" onclick="pourPotion('valerian', 'wormwood')">â†’ Wermut</button>
                        <button class="modal-btn" onclick="pourPotion('valerian', 'cauldron')">â†’ Kessel</button>
                    </div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2.5em;">ğŸ§ª</div>
                    <div style="font-size: 1.1em; color: #d4c5a9; margin-top: 10px;">Wermut</div>
                    <div style="font-size: 1.5em; color: #ffd700; font-weight: bold;" id="wormwood-amount">2ml</div>
                    <div style="margin-top: 10px;">
                        <button class="modal-btn" onclick="pourPotion('wormwood', 'snake')">â†’ Schlange</button>
                        <button class="modal-btn" onclick="pourPotion('wormwood', 'valerian')">â†’ Baldrian</button>
                        <button class="modal-btn" onclick="pourPotion('wormwood', 'cauldron')">â†’ Kessel</button>
                    </div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <div style="font-size: 3em;">ğŸ¯</div>
                <div style="font-size: 1.3em; color: #d4c5a9;">Kessel</div>
                <div style="font-size: 2em; color: #ffd700; font-weight: bold;" id="cauldron-amount">0ml</div>
            </div>
        </div>
        <div style="text-align: center;">
            <button class="modal-btn" onclick="resetPuzzle3()">ZurÃ¼cksetzen</button>
            <button class="modal-btn" onclick="closeModal(3)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback3"></div>
    </div>
</div>

<!-- Modal 4: Alraunen-Umtopfen -->
<div class="modal" id="modal4">
    <div class="modal-content">
        <div class="modal-title">ğŸŒ± Das Alraunen-Umtopfen</div>
        <div class="modal-description">
            Sortiere die Alraunen nach ihrer TonhÃ¶he (von tief nach hoch)!<br>
            <small>Klicke auf die TÃ¶pfe, um ihre TÃ¶ne zu hÃ¶ren, dann ordne sie!</small>
        </div>
        <div class="puzzle-container" id="puzzle4Container">
            <!-- Wird per JavaScript generiert -->
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="checkPuzzle4()">PrÃ¼fen</button>
            <button class="modal-btn" onclick="resetPuzzle4()">ZurÃ¼cksetzen</button>
            <button class="modal-btn" onclick="closeModal(4)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback4"></div>
    </div>
</div>

<!-- Modal 5: PortrÃ¤t-RÃ¤tsel -->
<div class="modal" id="modal5">
    <div class="modal-content">
        <div class="modal-title">ğŸ–¼ï¸ Das PortrÃ¤t-RÃ¤tsel</div>
        <div class="modal-description">
            Ordne die PortrÃ¤ts in der richtigen Reihenfolge!<br>
            <small>Hinweise: "Der Ritter hÃ¤ngt nicht neben dem Geist" â€¢ "Die Dame hÃ¤ngt links vom Ritter" â€¢ "Der MÃ¶nch hÃ¤ngt ganz rechts"</small>
        </div>
        <div class="puzzle-container" id="puzzle5Container">
            <!-- Wird per JavaScript generiert -->
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="checkPuzzle5()">PrÃ¼fen</button>
            <button class="modal-btn" onclick="resetPuzzle5()">ZurÃ¼cksetzen</button>
            <button class="modal-btn" onclick="closeModal(5)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback5"></div>
    </div>
</div>

<!-- Modal 6: Sternenhimmel -->
<div class="modal" id="modal6">
    <div class="modal-content">
        <div class="modal-title">ğŸ”­ Die Karte des Sternenhimmels</div>
        <div class="modal-description">
            Richte das Teleskop auf die richtigen Koordinaten!<br>
            <small>Pergament zeigt: X: 12, Y: 05</small>
        </div>
        <div class="puzzle-container">
            <div style="text-align: center;">
                <div style="font-size: 4em; margin: 20px 0;">ğŸ”­</div>
                <div style="display: flex; justify-content: center; gap: 50px; margin: 30px 0;">
                    <div>
                        <div style="font-size: 1.2em; color: #d4c5a9; margin-bottom: 10px;">X-Achse</div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button class="modal-btn" onclick="adjustTelescope('x', -1)">â—€</button>
                            <div style="font-size: 2em; color: #ffd700; font-weight: bold; min-width: 60px;" id="telescope-x">0</div>
                            <button class="modal-btn" onclick="adjustTelescope('x', 1)">â–¶</button>
                        </div>
                    </div>
                    <div>
                        <div style="font-size: 1.2em; color: #d4c5a9; margin-bottom: 10px;">Y-Achse</div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <button class="modal-btn" onclick="adjustTelescope('y', -1)">â—€</button>
                            <div style="font-size: 2em; color: #ffd700; font-weight: bold; min-width: 60px;" id="telescope-y">0</div>
                            <button class="modal-btn" onclick="adjustTelescope('y', 1)">â–¶</button>
                        </div>
                    </div>
                </div>
                <div id="star-found" style="font-size: 3em; margin-top: 20px; min-height: 60px;"></div>
            </div>
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="checkPuzzle6()">PrÃ¼fen</button>
            <button class="modal-btn" onclick="closeModal(6)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback6"></div>
    </div>
</div>

<!-- Modal 7: Duellier-Muster -->
<div class="modal" id="modal7">
    <div class="modal-content">
        <div class="modal-title">âš¡ Das Duellier-Muster</div>
        <div class="modal-description">
            Merke dir das Muster und zeichne es nach!<br>
            <small>Beobachte genau, welche Zauber in welcher Reihenfolge aufleuchten!</small>
        </div>
        <div class="puzzle-container">
            <div style="text-align: center; margin: 30px 0;">
                <div id="pattern-display" style="font-size: 1.3em; color: #d4c5a9; min-height: 40px; margin-bottom: 20px;">
                    Klicke auf "Muster zeigen" um zu starten!
                </div>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; max-width: 400px; margin: 30px auto;">
                    <button class="modal-btn" onclick="playerPattern(1)" id="spell-1" style="font-size: 2em; padding: 30px;">ğŸ”¥</button>
                    <button class="modal-btn" onclick="playerPattern(2)" id="spell-2" style="font-size: 2em; padding: 30px;">âš¡</button>
                    <button class="modal-btn" onclick="playerPattern(3)" id="spell-3" style="font-size: 2em; padding: 30px;">â„ï¸</button>
                    <button class="modal-btn" onclick="playerPattern(4)" id="spell-4" style="font-size: 2em; padding: 30px;">ğŸŒŸ</button>
                    <button class="modal-btn" onclick="playerPattern(5)" id="spell-5" style="font-size: 2em; padding: 30px;">ğŸ’«</button>
                    <button class="modal-btn" onclick="playerPattern(6)" id="spell-6" style="font-size: 2em; padding: 30px;">âœ¨</button>
                </div>
                <div id="player-sequence" style="font-size: 1.2em; color: #ffd700; margin-top: 20px; min-height: 30px;"></div>
            </div>
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="showPattern7()">Muster zeigen</button>
            <button class="modal-btn" onclick="resetPuzzle7()">ZurÃ¼cksetzen</button>
            <button class="modal-btn" onclick="closeModal(7)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback7"></div>
    </div>
</div>

<!-- Modal 8: Die Karte des Rumtreibers -->
<div class="modal" id="modal8">
    <div class="modal-content">
        <div class="modal-title">ğŸ—ºï¸ Die Karte des Rumtreibers</div>
        <div class="modal-description">
            Die Karte ist leer... Sprich die magischen Worte!<br>
            <small>Hinweis: Du hast die WÃ¶rter in den vorherigen RÃ¤tseln gesammelt...</small>
        </div>
        <div class="puzzle-container">
            <div style="text-align: center; margin: 30px 0;">
                <div style="font-size: 3em; margin-bottom: 30px;">ğŸ“œ</div>
                <div style="font-size: 1.2em; color: #d4c5a9; margin-bottom: 20px;">
                    Gesammelte WÃ¶rter: <span id="collected-words" style="color: #ffd700;"></span>
                </div>
                <input type="text" id="map-password" placeholder="Gib die magischen Worte ein..."
                    style="width: 80%; padding: 15px; font-size: 1.2em; border-radius: 10px; background: #2d2420; color: #d4c5a9; border: 3px solid #d4af37; text-align: center;">
                <div style="font-size: 0.9em; color: #c9b896; margin-top: 15px; font-style: italic;">
                    ğŸ’¡ Tipp: "Ich schwÃ¶re feierlich, ich bin ein..."
                </div>
            </div>
        </div>
        <div style="text-align: center;">
            <button class="modal-btn primary" onclick="checkPuzzle8()">PrÃ¼fen</button>
            <button class="modal-btn" onclick="closeModal(8)">Abbrechen</button>
        </div>
        <div class="feedback" id="feedback8"></div>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>



