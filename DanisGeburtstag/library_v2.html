<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Die Verbotene Abteilung âœ¨</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
    background: #020208; 
    min-height: 100vh; 
    display: flex; 
    justify-content: center; 
    align-items: center;
    overflow: hidden;
    font-family: 'Georgia', serif;
}
.game-container {
    width: 100vw;
    height: 100vh;
    max-width: 1536px;
    max-height: 864px;
}
svg { width: 100%; height: 100%; }

/* Animations */
@keyframes particleDrift {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
    25% { transform: translateY(-20px) translateX(10px); opacity: 0.8; }
    50% { transform: translateY(-40px) translateX(-5px); opacity: 0.5; }
    75% { transform: translateY(-60px) translateX(15px); opacity: 0.7; }
}
@keyframes orbGlow {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}
@keyframes orbFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}
@keyframes slotPulse {
    0%, 100% { stroke-opacity: 0.6; }
    50% { stroke-opacity: 1; }
}
@keyframes runeRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.particle { animation: particleDrift 8s ease-in-out infinite; }
.particle:nth-child(2) { animation-delay: -2s; animation-duration: 10s; }
.particle:nth-child(3) { animation-delay: -4s; animation-duration: 12s; }
.particle:nth-child(4) { animation-delay: -1s; animation-duration: 9s; }
.particle:nth-child(5) { animation-delay: -3s; animation-duration: 11s; }

#orbGroup { animation: orbFloat 4s ease-in-out infinite; }
#orbGlowCircle { animation: orbGlow 3s ease-in-out infinite; }
#runeRing { 
    transform-origin: 768px 280px;
    animation: runeRotate 60s linear infinite; 
}

.minigame-slot {
    cursor: pointer;
    transition: all 0.3s ease;
}
.minigame-slot:hover .slot-frame {
    stroke: #ffd700;
    stroke-width: 3;
    animation: slotPulse 1s ease-in-out infinite;
}
.minigame-slot:hover .slot-bg {
    fill: rgba(255, 215, 0, 0.15);
}
.minigame-slot .slot-bg {
    transition: fill 0.3s ease;
}

/* Lock states */
.hud-lock { transition: all 0.3s ease; }
.hud-lock.unlocked text { fill: #4ade80; }
.hud-lock.unlocked rect { stroke: #4ade80; }

/* Progress segment states */
.progress-segment { transition: all 0.5s ease; }
.progress-segment.active { fill: #ffd700; filter: url(#segmentGlow); }
</style>
</head>
<body>
<div class="game-container">
<svg viewBox="0 0 1536 864" xmlns="http://www.w3.org/2000/svg">
<defs>
    <!-- Filters -->
    <filter id="orbGlowFilter" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="15" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="segmentGlow" x="-50%" y="-50%" width="200%" height="200%">
        <feGaussianBlur stdDeviation="3" result="blur"/>
        <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="softShadow" x="-20%" y="-20%" width="140%" height="140%">
        <feDropShadow dx="3" dy="5" stdDeviation="4" flood-color="#000" flood-opacity="0.5"/>
    </filter>
    <filter id="deskShadow" x="-10%" y="-10%" width="120%" height="130%">
        <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#000" flood-opacity="0.6"/>
    </filter>
    
    <!-- Gradients -->
    <radialGradient id="bgVignette" cx="50%" cy="40%" r="70%">
        <stop offset="0%" stop-color="#1a1a3a"/>
        <stop offset="50%" stop-color="#0f0f25"/>
        <stop offset="100%" stop-color="#050510"/>
    </radialGradient>
    <radialGradient id="orbGradient" cx="30%" cy="30%" r="70%">
        <stop offset="0%" stop-color="#a78bfa"/>
        <stop offset="50%" stop-color="#7c3aed"/>
        <stop offset="100%" stop-color="#4c1d95"/>
    </radialGradient>
    <radialGradient id="orbInnerGlow" cx="50%" cy="50%" r="50%">
        <stop offset="0%" stop-color="#c4b5fd" stop-opacity="0.8"/>
        <stop offset="100%" stop-color="#7c3aed" stop-opacity="0"/>
    </radialGradient>
    <linearGradient id="lightCone" x1="50%" y1="0%" x2="50%" y2="100%">
        <stop offset="0%" stop-color="#a78bfa" stop-opacity="0.3"/>
        <stop offset="100%" stop-color="#a78bfa" stop-opacity="0"/>
    </linearGradient>
    <linearGradient id="shelfWood" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" stop-color="#5c4033"/>
        <stop offset="50%" stop-color="#3d2817"/>
        <stop offset="100%" stop-color="#2a1810"/>
    </linearGradient>
    <linearGradient id="shelfSide" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="#2a1810"/>
        <stop offset="100%" stop-color="#1a0f08"/>
    </linearGradient>
    <linearGradient id="deskWood" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#4a3728"/>
        <stop offset="50%" stop-color="#3d2817"/>
        <stop offset="100%" stop-color="#2a1810"/>
    </linearGradient>
    <linearGradient id="deskTop" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#5c4a3a"/>
        <stop offset="100%" stop-color="#4a3728"/>
    </linearGradient>
    <linearGradient id="hudBg" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#1a1a2e" stop-opacity="0.9"/>
        <stop offset="100%" stop-color="#0a0a15" stop-opacity="0.95"/>
    </linearGradient>
</defs>

<!-- ========== BACKGROUND GROUP ========== -->
<g id="bg">
    <rect width="1536" height="864" fill="url(#bgVignette)"/>
    <!-- Floor hint -->
    <rect x="0" y="700" width="1536" height="164" fill="#0a0810" opacity="0.8"/>
    <line x1="0" y1="700" x2="1536" y2="700" stroke="#1a1a3a" stroke-width="2"/>
</g>

<!-- ========== SHELVES GROUP ========== -->
<g id="shelves">
    <!-- LEFT BOOKSHELF (3D corner effect) -->
    <g id="shelfLeft">
        <!-- Side wall (visible due to angle) -->
        <polygon points="0,50 80,80 80,680 0,700" fill="url(#shelfSide)"/>
        <!-- Front face -->
        <rect x="80" y="80" width="280" height="600" fill="url(#shelfWood)"/>
        <!-- Top edge -->
        <polygon points="0,50 80,80 360,80 300,50" fill="#4a3525"/>
        <!-- Shelf boards -->
        <rect x="90" y="180" width="260" height="12" fill="#3d2817"/>
        <rect x="90" y="300" width="260" height="12" fill="#3d2817"/>
        <rect x="90" y="420" width="260" height="12" fill="#3d2817"/>
        <rect x="90" y="540" width="260" height="12" fill="#3d2817"/>
        <!-- Decorative books (background) -->
        <g opacity="0.7">
            <rect x="100" y="130" width="15" height="45" fill="#2d3a4a"/>
            <rect x="118" y="125" width="20" height="50" fill="#4a3728"/>
            <rect x="142" y="128" width="12" height="47" fill="#1e3d35"/>
            <rect x="158" y="132" width="18" height="43" fill="#3d2d4a"/>
        </g>
    </g>

    <!-- RIGHT BOOKSHELF (3D corner effect - mirrored) -->
    <g id="shelfRight">
        <!-- Side wall -->
        <polygon points="1536,50 1456,80 1456,680 1536,700" fill="url(#shelfSide)"/>
        <!-- Front face -->
        <rect x="1176" y="80" width="280" height="600" fill="url(#shelfWood)"/>
        <!-- Top edge -->
        <polygon points="1536,50 1456,80 1176,80 1236,50" fill="#4a3525"/>
        <!-- Shelf boards -->
        <rect x="1186" y="180" width="260" height="12" fill="#3d2817"/>
        <rect x="1186" y="300" width="260" height="12" fill="#3d2817"/>
        <rect x="1186" y="420" width="260" height="12" fill="#3d2817"/>
        <rect x="1186" y="540" width="260" height="12" fill="#3d2817"/>
        <!-- Decorative books -->
        <g opacity="0.7">
            <rect x="1380" y="130" width="15" height="45" fill="#2d3a4a"/>
            <rect x="1355" y="125" width="20" height="50" fill="#4a3728"/>
            <rect x="1335" y="128" width="12" height="47" fill="#1e3d35"/>
            <rect x="1310" y="132" width="18" height="43" fill="#3d2d4a"/>
        </g>
    </g>
</g>

<!-- ========== MINIGAME SLOTS GROUP ========== -->
<g id="minigameSlots">
    <!-- LEFT SHELF SLOTS -->
    <g class="minigame-slot" id="slotL1">
        <rect class="slot-bg" x="100" y="195" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="100" y="195" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotL2">
        <rect class="slot-bg" x="165" y="195" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="165" y="195" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotL3">
        <rect class="slot-bg" x="100" y="315" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="100" y="315" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotL4">
        <rect class="slot-bg" x="165" y="315" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="165" y="315" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>

    <!-- RIGHT SHELF SLOTS -->
    <g class="minigame-slot" id="slotR1">
        <rect class="slot-bg" x="1316" y="195" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="1316" y="195" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotR2">
        <rect class="slot-bg" x="1381" y="195" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="1381" y="195" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotR3">
        <rect class="slot-bg" x="1316" y="315" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="1316" y="315" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
    <g class="minigame-slot" id="slotR4">
        <rect class="slot-bg" x="1381" y="315" width="55" height="100" fill="#0a0810" rx="3"/>
        <rect class="slot-frame" x="1381" y="315" width="55" height="100" fill="none" stroke="#8b7355" stroke-width="2" rx="3"/>
    </g>
</g>

<!-- ========== DESK GROUP ========== -->
<g id="desk" filter="url(#deskShadow)">
    <!-- Desk body -->
    <rect x="568" y="620" width="400" height="120" rx="5" fill="url(#deskWood)"/>
    <!-- Desk top surface -->
    <rect x="558" y="605" width="420" height="20" rx="3" fill="url(#deskTop)"/>
    <!-- Desk legs -->
    <rect x="590" y="740" width="30" height="60" fill="#2a1810"/>
    <rect x="916" y="740" width="30" height="60" fill="#2a1810"/>
    <!-- Desk decorative panel -->
    <rect x="600" y="640" width="336" height="80" fill="none" stroke="#4a3525" stroke-width="2" rx="3"/>

    <!-- Desk Items -->
    <!-- Notebook -->
    <g id="deskNotebook" filter="url(#softShadow)">
        <rect x="700" y="565" width="80" height="55" rx="3" fill="#f5e6d3" transform="rotate(-5 740 592)"/>
        <rect x="702" y="567" width="76" height="51" rx="2" fill="#e8dcc8" transform="rotate(-5 740 592)"/>
        <line x1="710" y1="580" x2="770" y2="577" stroke="#8b7355" stroke-width="1" opacity="0.5"/>
        <line x1="710" y1="590" x2="770" y2="587" stroke="#8b7355" stroke-width="1" opacity="0.5"/>
        <line x1="710" y1="600" x2="765" y2="597" stroke="#8b7355" stroke-width="1" opacity="0.5"/>
    </g>

    <!-- Lamp -->
    <g id="deskLamp" filter="url(#softShadow)">
        <ellipse cx="880" cy="600" rx="18" ry="8" fill="#d4a574"/>
        <rect x="876" y="550" width="8" height="50" fill="#c9a869"/>
        <ellipse cx="880" cy="545" rx="22" ry="12" fill="#2a5a4a"/>
        <ellipse cx="880" cy="542" rx="18" ry="8" fill="#3d7a6a"/>
        <!-- Lamp glow -->
        <ellipse cx="880" cy="560" rx="15" ry="20" fill="#ffd700" opacity="0.15"/>
    </g>

    <!-- Ink well -->
    <g id="deskInk" filter="url(#softShadow)">
        <ellipse cx="640" cy="598" rx="12" ry="6" fill="#1a1a2e"/>
        <rect x="628" y="580" width="24" height="18" rx="3" fill="#0a0a15"/>
        <ellipse cx="640" cy="580" rx="12" ry="5" fill="#1a1a2e"/>
        <!-- Quill -->
        <line x1="635" y1="575" x2="615" y2="530" stroke="#d4a574" stroke-width="2"/>
        <path d="M615,530 Q610,520 620,515 Q625,525 615,530" fill="#f5e6d3"/>
    </g>
</g>

<!-- ========== CENTERPIECE: MAGIC ORB ========== -->
<g id="centerpiece">
    <!-- Light cone from orb to desk -->
    <polygon points="768,320 650,600 886,600" fill="url(#lightCone)" opacity="0.6"/>

    <!-- Orb group (floats) -->
    <g id="orbGroup">
        <!-- Outer glow -->
        <circle id="orbGlowCircle" cx="768" cy="280" r="70" fill="url(#orbInnerGlow)" filter="url(#orbGlowFilter)"/>

        <!-- Main orb -->
        <circle cx="768" cy="280" r="45" fill="url(#orbGradient)" filter="url(#orbGlowFilter)"/>

        <!-- Inner highlight -->
        <ellipse cx="755" cy="265" rx="15" ry="10" fill="#fff" opacity="0.3"/>

        <!-- Rune ring (rotates) -->
        <g id="runeRing">
            <circle cx="768" cy="280" r="55" fill="none" stroke="#c4b5fd" stroke-width="1" stroke-dasharray="8 4"/>
            <!-- Rune symbols -->
            <text x="768" y="218" text-anchor="middle" fill="#c4b5fd" font-size="10">áš </text>
            <text x="823" y="240" text-anchor="middle" fill="#c4b5fd" font-size="10">áš¢</text>
            <text x="835" y="285" text-anchor="middle" fill="#c4b5fd" font-size="10">áš¦</text>
            <text x="820" y="330" text-anchor="middle" fill="#c4b5fd" font-size="10">áš¨</text>
            <text x="768" y="345" text-anchor="middle" fill="#c4b5fd" font-size="10">áš±</text>
            <text x="715" y="330" text-anchor="middle" fill="#c4b5fd" font-size="10">áš²</text>
            <text x="700" y="285" text-anchor="middle" fill="#c4b5fd" font-size="10">áš·</text>
            <text x="713" y="240" text-anchor="middle" fill="#c4b5fd" font-size="10">áš¹</text>
        </g>

        <!-- Progress segments (8 segments around orb) -->
        <g id="orbProgress">
            <path class="progress-segment" id="seg1" d="M768,235 L768,220 A60,60 0 0,1 810,240 L798,250" fill="#3d2817"/>
            <path class="progress-segment" id="seg2" d="M798,250 L810,240 A60,60 0 0,1 828,280 L813,280" fill="#3d2817"/>
            <path class="progress-segment" id="seg3" d="M813,280 L828,280 A60,60 0 0,1 810,320 L798,310" fill="#3d2817"/>
            <path class="progress-segment" id="seg4" d="M798,310 L810,320 A60,60 0 0,1 768,340 L768,325" fill="#3d2817"/>
            <path class="progress-segment" id="seg5" d="M768,325 L768,340 A60,60 0 0,1 726,320 L738,310" fill="#3d2817"/>
            <path class="progress-segment" id="seg6" d="M738,310 L726,320 A60,60 0 0,1 708,280 L723,280" fill="#3d2817"/>
            <path class="progress-segment" id="seg7" d="M723,280 L708,280 A60,60 0 0,1 726,240 L738,250" fill="#3d2817"/>
            <path class="progress-segment" id="seg8" d="M738,250 L726,240 A60,60 0 0,1 768,220 L768,235" fill="#3d2817"/>
        </g>
    </g>
</g>

<!-- ========== HUD GROUP ========== -->
<g id="hud">
    <!-- HUD Panel -->
    <rect x="568" y="15" width="400" height="50" rx="8" fill="url(#hudBg)" stroke="#3d3d5c" stroke-width="2"/>

    <!-- 8 Lock Icons -->
    <g id="hudLocks">
        <g class="hud-lock" id="hudLock1">
            <rect x="593" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="608" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock2">
            <rect x="633" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="648" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock3">
            <rect x="673" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="688" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock4">
            <rect x="713" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="728" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock5">
            <rect x="793" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="808" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock6">
            <rect x="833" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="848" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock7">
            <rect x="873" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="888" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
        <g class="hud-lock" id="hudLock8">
            <rect x="913" y="25" width="30" height="30" rx="4" fill="none" stroke="#8b7355" stroke-width="1.5"/>
            <text x="928" y="47" text-anchor="middle" fill="#8b7355" font-size="18">ðŸ”’</text>
        </g>
    </g>
</g>

<!-- ========== FX GROUP (Particles) ========== -->
<g id="fx">
    <!-- Floating dust particles -->
    <circle class="particle" cx="200" cy="400" r="2" fill="#d4af37" opacity="0.5"/>
    <circle class="particle" cx="450" cy="300" r="1.5" fill="#d4af37" opacity="0.4"/>
    <circle class="particle" cx="1100" cy="350" r="2" fill="#d4af37" opacity="0.5"/>
    <circle class="particle" cx="1300" cy="450" r="1.5" fill="#d4af37" opacity="0.4"/>
    <circle class="particle" cx="768" cy="500" r="2" fill="#c4b5fd" opacity="0.3"/>
    <circle class="particle" cx="600" cy="200" r="1" fill="#d4af37" opacity="0.6"/>
    <circle class="particle" cx="950" cy="250" r="1.5" fill="#d4af37" opacity="0.5"/>
    <circle class="particle" cx="350" cy="550" r="1" fill="#d4af37" opacity="0.4"/>
</g>

</svg>
</div>

<script>
// Simple interaction handlers
document.querySelectorAll('.minigame-slot').forEach((slot, index) => {
    slot.addEventListener('click', () => {
        console.log(`Slot ${slot.id} clicked!`);
        // Here you would open the minigame modal
    });
});

// Function to unlock a lock and activate progress segment
function unlockPuzzle(puzzleNum) {
    const lock = document.getElementById(`hudLock${puzzleNum}`);
    const segment = document.getElementById(`seg${puzzleNum}`);

    if (lock) {
        lock.classList.add('unlocked');
        lock.querySelector('text').textContent = 'ðŸ”“';
    }
    if (segment) {
        segment.classList.add('active');
    }
}

// Demo: uncomment to test unlocking
// unlockPuzzle(1);
// unlockPuzzle(2);
</script>
</body>
</html>

